<html>
<HEAD>
<TITLE>  Informe ecogr&aacute;fico </TITLE>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
</HEAD>
<style>

#footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background-color: red;
  color: white;
  text-align: center;
  font-size:0.7em;
}
a:hover {
  color: hotpink;
}
a:link {
  color: aqua;
}
body {
font-size:1.2em;
color:white;
background-color: hotpink;
}
#titulo{
background-color: black; 
margin: 0px;
padding: 0px;
width: 100%;
}
h3{
font-family: "Lato", sans-serif;
text-align:center;
color:white;
}

.menup{
 font-size:1.5em;
 text-align:center;
}
.menuc{
 padding: 5px 0px 0px 40px;
 font-size:1.5em;
 text-align:left;
}

.doc{
border-collapse:separate;
font-size:1.2em;
width:90%;'
}
.doc td{
border:1px solid white;
padding:0.4em;
}
table{
  width: 80%;
 margin: 0.2em;
 font-size:0.7em;
}
p {
 line-height: 0.9em;
 font-size:2em;
 }
#T,#N,#M,#G,#H,#E,#P{
font-size:1.6em;
}

#res-estad,#res-estad2{
font-size:1.2em;
margin:0.3em;
}
.desp{
color:red;
}
input[type=radio]{
transform: scale(1.5);
}
input[type=number]{
width: 1 em;
}
#NombP{
width: 10em;
}
#EdadP{
width: 3em;
}
#IdP{
width: 6em;
}
</style>
<BODY onload="inicio();" onunload="salida()">
<div id="container">
<div id="titulo" style="position:fixed;top:0%;left:0%;width:100%;"> 
   <h3>Informe de ex&aacute;men ecogr&aacute;fico</h3> 
</div>
<div style="position:fixed;top:15%;left:0%;">
<label for="NombP"> Nombre Paciente:</label> <input onchange="setNombre()" id="NombP">
<label for="IdP"> ID:</label> <input onchange="setId()" id="IdP"><br>
<label for="EdadP"> Edad:</label> <input onchange="setEdad()" type="number" id="EdadP">
Sexo:<label for="SexoF">F</label><input onchange="setSexo();" type="radio" name="Sexo" id="SexoF" value='F'>
<label for="SexoM">M</label><input onchange="setSexo();" type="radio" name="Sexo" id="SexoM" value='M'>
</div>
<div id="menuPrincipal" style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;">
</div>
<div id="Focal" > </div>

<div id="Higado" > </div>
   <div id="HigTam" > </div>
   <div id="HigDet" >  </div>
<div id="VesBil" >  </div>
 <div id="VesBilTam" >  </div>
 <div id="VesBilDet" >  </div>

<div id="Pancreas" > </div>
   <div id="PanTam" >  </div>
   <div id="PanDet" >  </div>

<div id="Bazo" >  </div>
 <div id="BazTam" >  </div>
 <div id="BazDet" >  </div>

<div id="RD" > </div>
   <div id="RDTam" > </div>
   <div id="RDDet" > </div>

<div id="RI" > </div>
   <div id="RITam" > </div>
   <div id="RIDet" > </div>

<div id="Abdominal" > </div>
<div id="Vascular" > </div>
<div id="Pelvico" > </div>
<div id="Vejiga" > </div>
  <div id="VejTam" >  </div>
  <div id="VejDet" >  </div>

<div id="Prostata"> </div>
  <div id="ProstTam"> </div>
  <div id="ProstDet"> </div>


<div id="Utero" >  </div>
  <div id="UtTam" >  </div>
  <div id="UtDet" >  </div>

<div id="OvD"  ></div>
  <div id="OvDTam" >  </div>
  <div id="OvDDet" >  </div>

<div id="OvI"  ></div>
  <div id="OvITam" >  </div>
  <div id="OvIDet" >  </div>

<div id="Tes"  ></div>

<div id="TesD"  ></div>
  <div id="TesDTam" >  </div>
  <div id="TesDDet" >  </div>

<div id="TesI"  ></div>
  <div id="TesITam" >  </div>
  <div id="TesIDet" >  </div>

<div id="Tiroides"> </div>
<div id="Istmo"> </div>

<div id="TirD"> </div>
  <div id="TirDTam"> </div>
  <div id="TirDDet"> </div>

<div id="TirI"> </div>
  <div id="TirITam"> </div>
  <div id="TirIDet"> </div>

<div id="MamaD"> </div>
  <div id="MamaDTam"> </div>
  <div id="MamaDDet"> </div>

<div id="MamaI"> </div>
  <div id="MamaITam"> </div>
  <div id="MamaIDet"> </div>

<div id="Carotidas"> </div>
<div id="CarotCder"> </div>
<div id="CarotIder"> </div>
<div id="CarotEder"> </div>
<div id="Vertebralder"> </div>
<div id="CarotCizq"> </div>
<div id="CarotIizq"> </div>
<div id="CarotEizq"> </div>
<div id="Vertebralizq"> </div>
<div id="ayuda" hidden="true"></div>

<div> <br></div>
</div>
<div id="footer"> Dr. Braulio De Abreu. email: brauliodeabreu@gmail.com <br> Tlfs: +58414 4728631 +58412 8552592</div>
<script type="text/javascript" src="higado.js"> </script>
<script type="text/javascript" src="rinon.js"> </script>
<script type="text/javascript" src="bazo.js"> </script>
<script type="text/javascript" src="vesicula.js"> </script>
<script type="text/javascript" src="pancreas.js"> </script>
<script type="text/javascript" src="vejiga.js"> </script>
<script type="text/javascript" src="prostata.js"> </script>
<script type="text/javascript" src="utero.js"> </script>
<script type="text/javascript" src="ovarios.js"> </script>
<script type="text/javascript" src="testiculos.js"> </script>
<script type="text/javascript" src="tiroides.js"> </script>
<script type="text/javascript" src="carotidas.js"> </script>
<script type="text/javascript" src="menusGraficos.js"> </script>
<script type="text/javascript" src="selectFile.js"> </script>
<script type="text/javascript" src="cargaimagen.js"> </script>


<script>
var Examen;

function inicio(){

var aux=localStorage.getItem('EXAMEN');
if (aux)  {Examen=JSON.parse(aux);} else {Examen=new Object(); }

//Examen=new Object();
if (typeof(Examen.nombre)==='undefined') 
 {Examen.nombre=''} else {document.getElementById("NombP").value=Examen.nombre}
if (typeof(Examen.edad)==='undefined') 
 {Examen.edad=''} else {document.getElementById("EdadP").value=Examen.edad}
if (typeof(Examen.id)==='undefined') 
 {Examen.id=''} else {document.getElementById("IdP").value=Examen.id}

if (typeof(Examen.sexo)==='undefined') {Examen.sexo='F'}
if (Examen.sexo=='F') 
  {document.getElementById("SexoF").checked=true}  else {document.getElementById("SexoM").checked=true}
sexoPac=Examen.sexo;
showPrincipal();
setLimites()
} 

function salida(){
//Examen.nombre=document.getElementById("NombP").value;
//Examen.edad=document.getElementById("EdadP").value;
localStorage.setItem('EXAMEN',JSON.stringify(Examen));
} 
function setLimites(){

//Vesicula Biliar
vesBilEspPreMax=0.4;
vesBilEspPostMax=0.4;
vesBilLongMax=0.4;
vesBilTransMax=0.4;

//vegija urinaria
vegijaEspLMax=0.8;
vegijaEspVMax=0.8;

//bazo
bazotransMax=4;
bazoLongMax=11;
//rinon
RenLongMax=12;
RenLongMin=10;
RenTransMax=6;
RenTransMin=4;
RenParMax=2.5;
RenParMin=1.3;
if (EdadPac<30) {RenIndMin=1.6;} 
  else {if (EdadPac>60) {RenIndMin=1.6;} else {RenIndMin=1.2; RenIndMax=1.6;}}

//pancreas
panCabMax=3;
panCuerpoMax=2;
panColaMax=2.5;
panCondMax=0.2;

//prostata
prostTransMax=5;
prostLongMax=3;
prostAPMax=3;


}
function setNombre(){
Examen.nombre=document.getElementById("NombP").value

}

function setEdad(){
Examen.edad=document.getElementById("EdadP").value;
edadPac=Examen.edad;
setLimites();
}

function setId(){
Examen.id=document.getElementById("IdP").value
}
function setSexo(){
if (document.getElementById('SexoF').checked) {sexoPac="F";} else {sexoPac="M";}
Examen.sexo=sexoPac;
showPrincipal();
}

function Titulo(t1,t2,t3){
var resp;
resp='<h4 style="text-align:center;color:yellow;">'+t1;
resp+='<span style="color:blue;" onclick="'+t2+'();'+t3+'.style.visibility=\'hidden\'">&nbsp;&#9650;</span> </h4>';
return resp;
}
var divp;
var masas=[];
var textotit="";

function eliminamasa(j){
omasa.dmasa.splice(j,1);
divfocal.innerHTML=textotit+textomasa();
}
var indmasa;

function incrMasa(){
if (indmasa<omasa.dmasa.length-1) {indmasa++}

divfocal.innerHTML=textotit+textomasa();

}

function decrMasa(){
if (indmasa>0) {indmasa--}
divfocal.innerHTML=textotit+textomasa();

}
function textomasa(){
var texto='';
if (indmasa>=0) {
texto+= '<button onclick="decrMasa()">&#129044;</button><button onclick="incrMasa()">&#10140;</button><br>';
//for (var j=0;j<omasa.dmasa.length;j++){
texto+='<div> ';
texto+='Masa '+(indmasa+1)+':<br>';
//alert('v1 '+v1 +'v2 '+v2+'v3 '+v3);
texto+='Ecogenicidad: <br><label for="Eco1'+indmasa+'"> &nbsp&nbsp anecoico </label><input type="radio" id="Eco1'+indmasa+'" name="Eco'+indmasa+'" '+ omasa.dmasa[indmasa].eco.ana +' onchange="setMasa()"><br>';
texto+='<label for="Eco4'+indmasa+'"> &nbsp&nbsp anecoico difuminado </label><input type="radio" id="Eco4'+indmasa+'" name="Eco'+indmasa+'"'+ omasa.dmasa[indmasa].eco.anadif +' onchange="setMasa()"><br>';
texto+='<label for="Eco2'+indmasa+'"> &nbsp&nbsp hipoecoico</label><input type="radio" id="Eco2'+indmasa+'" name="Eco'+indmasa+'"'+ omasa.dmasa[indmasa].eco.hipo +' onchange="setMasa()"><br>';
texto+='<label for="Eco3'+indmasa+'"> &nbsp&nbsp hiperecoico </label><input type="radio" id="Eco3'+indmasa+'" name="Eco'+indmasa+'" '+ omasa.dmasa[indmasa].eco.hiper  +' onchange="setMasa()"><br>';
texto+='Homogenicidad: <br> <label for="Homo1'+indmasa+'"> &nbsp&nbsp homogeneo </label><input type="radio" id="Homo1'+indmasa+'" name="homo'+indmasa+'" '+ omasa.dmasa[indmasa].homo +' onchange="setMasa()"><br>';
texto+='<label for="Homo2'+indmasa+'"> &nbsp&nbsp heterogeneo </label><input type="radio" id="Homo2'+indmasa+'" name="homo'+indmasa+'" '+ omasa.dmasa[indmasa].hetero +' onchange="setMasa()"><br>';
texto+='Doppler: <br> <label for="Dop1'+indmasa+'"> &nbsp&nbsp positivo </label><input type="radio" id="Dop1'+indmasa+'" name="Dop'+indmasa+'" '+ omasa.dmasa[indmasa].dop +' onchange="setMasa()"><br>';
texto+='<label for="Dop2'+indmasa+'"> &nbsp&nbsp negativo </label><input type="radio" id="Dop2'+indmasa+'" name="Dop'+indmasa+'" '+ omasa.dmasa[indmasa].dop +' onchange="setMasa()"><br>';

texto+=' Tama&nacute;o: <br>';
texto+=' <label for="Ftam1'+indmasa+'">A-P(cm):</label><input onchange="setMasa()" type="number" id="Ftam1'+indmasa+'" value="'+omasa.dmasa[indmasa].Ftam1+'"><br>';
texto+=' <label for="Ftam2'+indmasa+'">Transverso(cm):</label><input onchange="setMasa()" type="number" id="Ftam2'+indmasa+'" value="'+omasa.dmasa[indmasa].Ftam2+'"><br>';
texto+=' <label for="Ftam3'+indmasa+'">Long(cm):</label><input onchange="setMasa()" type="number" id="Ftam3'+indmasa+'" value="'+omasa.dmasa[indmasa].Ftam3+'"><br>';
texto+=' Ubicaci&oacute;n: <br>';
for (var k=0;k<ubicaciones.length;k++) {
 texto+=ubicaciones[k]+' <input type="checkbox"'+omasa.dmasa[indmasa].ubic[k]+' id="ubic'+indmasa+k+'" onchange="setMasa()" </input><br>';
}
/*
texto+='<div class="camera">';
texto+='  <video id="video">Video stream not available.</video>';
texto+='  <button id="start-button">Take photo</button>';
texto+='</div>';
texto+='<canvas id="canvas"> </canvas>';
texto+='<div class="output">';
texto+='  <img id="photo" alt="The screen capture will appear in this box." />';
texto+='</div>';
texto+=' Eliminar: <button onclick="eliminamasa('+indmasa+')"> E </button><br>'
*/
texto+='<div id="divlienzo"> ';
texto+='<canvas id="lienzo" STYLE="BORDER:1PX SOLID #000000;background-color: white" width="300" height="100"></canvas>';  
texto+='<label hidden id=selected>Nothing selected</label>';
texto+='<button onclick="loadImagen()">Agregar</button><input hidden type=file id=choose accept="image/*" >';
texto+='</div>';

//alert(texto);

texto+='</div> ';
}
//}
texto+=' Agregar masa: <button onclick="putmasa()"> A </button>'

return texto;
}
function loadImagen(){
elemento=document.getElementById("lienzo");
lienzo=elemento.getContext('2d');
getFile = new selectFile;
getFile.targets('choose','selected');
archivos1=document.getElementById('choose');
archivos1.addEventListener('change', function(e){procesar(e)}, false);
getFile.simulate();
}
function setMasa(){
//for (j=0;j<omasa.dmasa.length;j++){
var j=indmasa;
var ne='Eco1'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].eco.ana="checked";}
 else {omasa.dmasa[j].eco.ana="";}
var ne='Eco4'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].eco.anadif="checked";}
 else {omasa.dmasa[j].eco.anadif="";}
var ne='Eco2'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].eco.hipo="checked";}
 else {omasa.dmasa[j].eco.hipo="";}
var ne='Eco3'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].eco.hiper="checked";}
 else {omasa.dmasa[j].eco.hiper="";}
var ne='Homo1'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].homo="checked";}
 else {omasa.dmasa[j].homo="";}

var ne='Homo2'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].hetero="checked";}
 else {omasa.dmasa[j].hetero="";}

var ne='Dop1'+j;
if (document.getElementById(ne).checked) {omasa.dmasa[j].dop="checked";}
 else {omasa.dmasa[j].dop="";}

var ne='Ftam1'+j;
omasa.dmasa[j].Ftam1=document.getElementById(ne).value;
var ne='Ftam2'+j;
omasa.dmasa[j].Ftam2=document.getElementById(ne).value;
var ne='Ftam3'+j;
omasa.dmasa[j].Ftam3=document.getElementById(ne).value;
for (var k=0;k<ubicaciones.length;k++) {
var ne="ubic"+j+k;
if (document.getElementById(ne).checked) {omasa.dmasa[j].ubic[k]="checked"} else {omasa.dmasa[j].ubic[k]=""}
}

//}

}

function showFocal(d1,d2,d3){
//masas=structuredClone(omasa);
//alert(masas.length);
var texto='';
d3.style.visibility="hidden";
divfocal=document.getElementById('Focal');
divfocal.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;";
textotit=Titulo(d1,d2,'divfocal');
texto=textotit;
if (omasa.dmasa.length>0){indmasa=0;} else {indmasa=-1;}
divfocal.innerHTML=textotit+textomasa();
}
var omasa;
var ubicaciones;

function putmasa(){
var l=omasa.dmasa.length;
//alert(l);
omasa.dmasa[l]=new masa();
//alert(Object.keys(omasa.dmasa[l]));
divfocal.innerHTML=textotit+textomasa();
}
function masa(){
this.eco=new ecos();
this.homo="";
this.hetero="";
this.Ftam1=0;
this.Ftam2=0;
this.Ftam3=0;
this.ubic=new Array();
for (var k=0;k<ubicaciones.length;k++) {this.ubic[k]=""}
this.dop="";
}
function ecos(){
this.ana="";
this.anadif="";
this.hipo="";
this.hiper="";
}

function showPrincipal(){
divp=document.getElementById('menuPrincipal');
divp.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;";
var texto='<p class="menup" onclick="Changeback(this);showAbdominal()"> Abdominal </p>';
texto+='<p class="menup" onclick="Changeback(this);showPelvico()"> P&eacute;lvico </p>';
//texto+='<p class="menup" onclick="Changeback(this);"> Abdomino-P&eacute;lvico </p>';
texto+='<p class="menup" onclick="Changeback(this);showTiroides()"> Tiroideo </p>';
if (sexoPac=='M') 
 {texto+='<p class="menup" onclick="Changeback(this);showTesticular()"> Testicular </p>';}
if (sexoPac=='F')
 {texto+='<p class="menup" onclick="Changeback(this);showMamas()"> Mamario</p>';}

texto+='<p class="menup" onclick="Changeback(this);"> Cardiaco </p>';
texto+='<p class="menup" onclick="Changeback(this);showVascular()"> Vascular </p>';
divp.innerHTML=texto;

}
var divA;
var sexoPac;
var EdadPac;

function showAbdominal(){
divp.style.visibility="hidden";
divA=document.getElementById('Abdominal');
divA.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;"
var texto=Titulo('Abdomen','showPrincipal','divA');
texto+=' <p class="menuc" onclick="showPancreas()">Pancreas</p>';
texto+=' <p class="menuc"onclick="showHigado()">Higado</p>';
texto+=' <p class="menuc"onclick="showVesBil()">Vesicula Biliar</p>';
texto+=' <p class="menuc"><span onclick="showRd()">RD</span> <span onclick="showRi()">RI</span></p>';
texto+=' <p class="menuc" onclick="showBazo();">Bazo</p>';
texto+=' <p class="menuc" onclick="showAorta();">Aorta</p>';
divA.innerHTML=texto;
divA.style.visibility='visible';
}

function showTiroides(){
divp.style.visibility="hidden";
divTir=document.getElementById('Tiroides');
divTir.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;"
var texto=Titulo('Tiroides','showPrincipal','divTir');
texto+=' <p class="menuc"onclick="showTirD()">Tiroides Derecha </p>';
texto+=' <p class="menuc"onclick="showTirI()">Tiroides Izquierda </p>';
texto+=' <p class="menuc"onclick="showIstmo()">Istmo </p>';

divTir.innerHTML=texto;
divTir.style.visibility='visible';
}
function showTesticular(){
divp.style.visibility="hidden";
divTes=document.getElementById('Tes');
divTes.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;"
var texto=Titulo('Test&iacute;culos','showPrincipal','divTes');
texto+=' <p class="menuc"onclick="showTesD()">Test&iacute;culo Derecho </p>';
texto+=' <p class="menuc"onclick="showTesI()">Test&iacute;culo Izquierdo </p>';
divTes.innerHTML=texto;
divTes.style.visibility='visible';
}
function showPelvico(){
divp.style.visibility="hidden";
divPelvis=document.getElementById('Pelvico');
divPelvis.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;"
var texto=Titulo('Pelvis','showPrincipal','divPelvis');
texto+=' <p class="menuc" onclick="showVejiga()">Vejiga</p>';
if (sexoPac=="M") 
   {texto+=' <p class="menuc"onclick="showProstata()">Prostata</p>';}
if (sexoPac=="F") 
{texto+=' <p class="menuc"onclick="showUtero()">Utero</p>';
texto+=' <p class="menuc"><span onclick="showOvD()">OVD</span> <span onclick="showOvI()">OVI</span></p>';
}
divPelvis.innerHTML=texto;
divPelvis.style.visibility='visible';
}

function showVascular(){
divp.style.visibility="hidden";
divVasc=document.getElementById('Pelvico');
divVasc.style="position:fixed;top:25%;left:0%;height:60%;width:100%;overflow-y:scroll;"
var texto=Titulo('Vascular','showPrincipal','divVasc');
texto+=' <p class="menuc" onclick="showCarotida()">Carotidas</p>';
texto+=' <p class="menuc"><span onclick="showMSD()">MSD</span> <span onclick="showMSI()">MSI</span></p>';
texto+=' <p class="menuc"><span onclick="showMSD()">MID</span> <span onclick="showMII()">MII</span></p>';
texto+=' <p class="menuc"onclick="showAbdoDoppler()">Abdomen</p>';
divVasc.innerHTML=texto;
divVasc.style.visibility='visible';
}

// divs
var divB,divBT;//Bazo
var divPan,divPT;//Pancreas
var divUt,divUtT,divUtD;//utero
var divOvD,divOvDT,divOvDD,divOvI,divOvIT,divOvID;//Ovarios
var divTesD,divTesDT,divTesDD,divTesI,divTesIT,divTesID,divTes;//Testiculos
var divRi,divPelvis;
var divProst,divProsT,divProsD;//Prostata
var divH,divHT,divHD;//Higado
var divTirD,divTirDT,divTirDD,divTirI,divTirIT,divTirID,divTir,divIstmo;//Tiroides
var divMamaD,divMamaDT,divMamaDD,divMamaI,divMamaIT,divMamaID;//Mamas
var divfocal;
var divVasc;
function Changeback(e){
var colorbase='hotpink';
var colornew='green';
var x=document.getElementsByClassName('menup');
//alert(x.length);
for (var i=0;i<x.length;i++){
x[i].style.backgroundColor=colorbase;
}
e.style.backgroundColor=colornew;
}




// esto va en el script de la pagina
/*if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('sw.js').then(function(registration) {
      // Si es exitoso
      console.log('SW registrado correctamente');
    }, function(err) {
      // Si falla
      console.log('SW fallo', err);
    });
  });
}
*/

</script>

</BODY>
</html>