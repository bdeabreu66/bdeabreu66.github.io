datos_menus=[{"datos":[{"id":"P_1","cx":"425","cy":"600","r":"10"},
                      {"id":"P_2","cx":"511","cy":"490","r":"10"},
                      {"id":"P_3","cx":"450","cy":"430","r":"10"},
                      {"id":"P_4","cx":"325","cy":"600","r":"10"},
                      {"id":"P_5","cx":"555","cy":"600","r":"10"},
                      {"id":"P_6","cx":"540","cy":"430","r":"10"},
                      {"id":"P_7","cx":"640","cy":"470","r":"10"},
                      {"id":"P_8","cx":"680","cy":"600","r":"10"}
                                     ],
             "anchor":"999",
             "altor":"999",
 	     "enlaces": ["showCarotCder()",
 			 "showCarotIder()", 
			 "showCarotEder()",
			 "showVertebralder()",
 			 "showCarotCizq()",
 			 "showCarotIizq()", 
			 "showCarotEizq()",
			 "showVertebralizq()"
                        ],
             "coordenadas1":[
                           {"cx":"85","cy":"85"},
                           {"cx":"95","cy":"85"},
                           {"cx":"85","cy":"95"},
                           ],
              "coordenadas2":[
                           {"cx":"95","cy":"105"},
                           {"cx":"85","cy":"115"}
                          ]
            },
            {"datos":[{"id":"P_1","cx":"819","cy":"451","r":"10"},
                      {"id":"P_2","cx":"753","cy":"383","r":"10"},
                      {"id":"P_3","cx":"644","cy":"402","r":"10"},
                      {"id":"P_4","cx":"592","cy":"430","r":"10"},
                      {"id":"P_5","cx":"541","cy":"437","r":"10"},
                      {"id":"P_6","cx":"525","cy":"471","r":"10"},
                      {"id":"P_7","cx":"462","cy":"493","r":"10"},
                      {"id":"P_8","cx":"459","cy":"528","r":"10"},
                      {"id":"P_9","cx":"454","cy":"562","r":"10"},
                      {"id":"P_10","cx":"450","cy":"625","r":"10"},
                      {"id":"P_11","cx":"355","cy":"610","r":"10"},
                      {"id":"P_12","cx":"318","cy":"665","r":"10"},
                      {"id":"P_13","cx":"200","cy":"666","r":"10"},
                      {"id":"P_14","cx":"123","cy":"623","r":"10"},
                      {"id":"P_15","cx":"183","cy":"716","r":"10"},
                      {"id":"P_16","cx":"329","cy":"705","r":"10"},
                      {"id":"P_17","cx":"366","cy":"646","r":"10"},
                      {"id":"P_18","cx":"496","cy":"673","r":"10"},
                      {"id":"P_19","cx":"492","cy":"587","r":"10"},
                      {"id":"P_20","cx":"488","cy":"546","r":"10"},
                      {"id":"P_21","cx":"509","cy":"512","r":"10"},
                      {"id":"P_22","cx":"552","cy":"508","r":"10"},
                      {"id":"P_23","cx":"560","cy":"465","r":"10"},
                      {"id":"P_24","cx":"597","cy":"458","r":"10"},
                      {"id":"P_25","cx":"649","cy":"439","r":"10"},
                      {"id":"P_26","cx":"730","cy":"422","r":"10"}
                    ],
             "anchor":"1000",
             "altor":"1000",
 	     "enlaces": ["showCarotCder()",
 			 "showCarotIder()", 
			 "showCarotEder()",
			 "showVertebralder()",
 			 "showCarotCizq()",
 			 "showCarotIizq()", 
			 "showCarotEizq()",
			 "showVertebralizq()"
                        ],
             "coordenadas1":[{"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"}
                          ],            
             "coordenadas2":[{"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"},
                           {"cx":"85","cy":"85"}
                          ]
            },
            {"datos":[{"id":"P_53","cx":"181","cy":"634","r":"10"},
                      {"id":"P_54","cx":"188","cy":"667","r":"10"},
                      {"id":"P_41","cx":"235","cy":"640","r":"10"},
                      {"id":"P_55","cx":"207","cy":"610","r":"10"},
                      {"id":"P_56","cx":"201","cy":"588","r":"10"},
                      {"id":"P_57","cx":"198","cy":"561","r":"10"},
                      {"id":"P_58","cx":"190","cy":"537","r":"10"},
                      {"id":"P_59","cx":"185","cy":"498","r":"10"},
                      {"id":"P_60","cx":"220","cy":"500","r":"10"},
                      {"id":"P_61","cx":"860","cy":"496","r":"10"},
                      {"id":"P_62","cx":"189","cy":"459","r":"10"},
                      {"id":"P_63","cx":"145","cy":"461","r":"10"},
                      {"id":"P_64","cx":"159","cy":"520","r":"10"},
                      {"id":"P_65","cx":"164","cy":"550","r":"10"},
                      {"id":"P_66","cx":"176","cy":"580","r":"10"},
                      {"id":"P_67","cx":"178","cy":"609","r":"10"}
                     ],
             "anchor":"1000",
             "altor":"1000",
 	     "enlaces": ["showCarotCder()",
 			 "showCarotIder()", 
			 "showCarotEder()",
			 "showVertebralder()",
 			 "showCarotCizq()",
 			 "showCarotIizq()", 
			 "showCarotEizq()",
			 "showVertebralizq()"
                        ],
             "coordenadas1":[{"cx":"183","cy":"612"},
                            {"cx":"193","cy":"659"},
                            {"cx":"221","cy":"660"},
                            {"cx":"238","cy":"647"},
                            {"cx":"232","cy":"604"},
                            {"cx":"211","cy":"603"},
                            {"cx":"185","cy":"474"},
                            {"cx":"239","cy":"477"},
                            {"cx":"239","cy":"462"},
                            {"cx":"220","cy":"358"},
                            {"cx":"247","cy":"303"},
                            {"cx":"482","cy":"246"},
                            {"cx":"607","cy":"233"},
                            {"cx":"663","cy":"280"},
                            {"cx":"667","cy":"474"},
                            {"cx":"736","cy":"462"},
                            {"cx":"766","cy":"512"}
                          ],
             "coordenadas2":[{"cx":"85","cy":"85"},
                            {"cx":"85","cy":"85"},
                            {"cx":"85","cy":"85"},
                            {"cx":"85","cy":"85"},
                            {"cx":"85","cy":"85"}
                          ]
     
            }
          ];

function cambiacolor(K,e){
var b=document.getElementsByName("r1");
for (var i=0;i<b.length;i++){
if (e===b[i]) {var num=i;break}
}
alert(K+' '+num+' '+datos_menus[K].enlaces[num]);
eval(datos_menus[K].enlaces[num]);
}

function despliega_slider(){
var divslider=document.getElementById("slide");
divslider.hidden=false;
}

function oculta_slider(){
var divslider=document.getElementById("slide");
divslider.hidden=true;
}

vzmax=1.5;
vzmin=0.8;
function redibuja(K){
var fuente="menu"+K+'.jpg';
var vsl=document.getElementById("myRange");
var zoom=((vzmax-vzmin)/(vsl.max-vsl.min))*(vsl.value-vsl.min)+vzmin;
//var zoom=1;
muestrasvg(datos_menus[K],parseInt(600*zoom),parseInt(600*zoom),fuente,K)
}

function muestrasvg(o,ancho,alto,imagen,K){
var divsvg = document.getElementById("svg");
divsvg.style="height: 70%; width:100% ;background-color: white;color:green; text-align: left; border: 1px solid #73AD21; overflow-x: scroll; overflow-y: scroll;";

var textoT='';
divsvg.hidden=false;
textoT+='<svg position: relative; width="'+ancho+'" height="'+alto+'">';
textoT+='<image id="imag" width="'+ancho+'" height="'+alto+'" href='+imagen+' />';

var n=o.datos.length;
console.log(n);
for (var i=0;i<n;i++) {
var centx=o.datos[i].cx*(ancho/o.anchor);
var centy=o.datos[i].cy*(alto/o.altor);
var radio=o.datos[i].r*(ancho/o.anchor);
console.log(centx+" "+centy+" "+radio);
//textoT+='<circle name="r1"  onclick="cambiacolor(this);" cx="30" cy="30" r="10" />';
textoT+='<circle name="r1" onclick="cambiacolor('+K+',this);" cx="'+centx +'" cy="'+centy +'" r="'+radio+'" stroke="black" stroke-width="3" opacity= "1"/>';

}

var n=o.coordenadas1.length;
var color="blue";
for (var i=0;i<n;i++) {
var px=o.coordenadas1[i].cx*(ancho/o.anchor);
var py=o.coordenadas1[i].cy*(ancho/o.anchor);
if (i>0) {
   textoT+='<line x1="'+pxant+'" y1="'+pyant+'" x2="'+px+'" y2="'+ py+'" stroke="'+color+'" stroke-width="3"  />'
}
var pxant=px;
var pyant=py;
}

var n=o.coordenadas2.length;
var color="black";
for (var i=0;i<n;i++) {
var px=o.coordenadas2[i].cx*(ancho/o.anchor);
var py=o.coordenadas2[i].cy*(ancho/o.anchor);
if (i>0) {
   textoT+='<line x1="'+pxant+'" y1="'+pyant+'" x2="'+px+'" y2="'+ py+'" stroke="'+color+'" stroke-width="3"  />'
}
var pxant=px;
var pyant=py;
}


textoT+='</svg>';
textoT+='<br><span id="mleyenda" ></span><br>';
textoT+='<button onclick="quitarsvg();">Ok </button>';
divsvg.innerHTML=textoT;
for (var i=0;i<n;i++) {
  document.getElementsByName("r1")[i].style.fill="black"; 
}

var img = document.getElementById('imag');
    var altoDefinido = img.height; // 300
    var altoOriginal = img.naturalHeight; // 600
    var anchoDefinido = img.width; // 300
    var anchoOriginal = img.naturalWidth; // 600
    console.log(altoDefinido);

}

function quitarsvg(){
var divsvg = document.getElementById("svg");
divsvg.style.display="none";
}